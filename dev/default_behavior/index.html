<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Default Behavior · WRDSMerger.jl</title><meta name="title" content="Default Behavior · WRDSMerger.jl"/><meta property="og:title" content="Default Behavior · WRDSMerger.jl"/><meta property="twitter:title" content="Default Behavior · WRDSMerger.jl"/><meta name="description" content="Documentation for WRDSMerger.jl."/><meta property="og:description" content="Documentation for WRDSMerger.jl."/><meta property="twitter:description" content="Documentation for WRDSMerger.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">WRDSMerger.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../download_data/">Downloading WRDS Data</a></li><li><span class="tocitem">Links Between WRDS Data</span><ul><li><a class="tocitem" href="../basic_linking/">Linking Basics</a></li><li class="is-active"><a class="tocitem" href>Default Behavior</a><ul class="internal"><li><a class="tocitem" href="#Different-Return-Types"><span>Different Return Types</span></a></li><li><a class="tocitem" href="#Default-Options-in-Conversions"><span>Default Options in Conversions</span></a></li><li><a class="tocitem" href="#Supremacy-of-Permno"><span>Supremacy of Permno</span></a></li></ul></li><li><a class="tocitem" href="../linking_identifiers/">Identifier Types</a></li><li><a class="tocitem" href="../linking_internals/">Internals</a></li></ul></li><li><a class="tocitem" href="../misc_utilities/">Miscellaneous Utilities</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Links Between WRDS Data</a></li><li class="is-active"><a href>Default Behavior</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Default Behavior</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/junder873/WRDSMerger.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/junder873/WRDSMerger.jl/blob/master/docs/src/default_behavior.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Default-Behavior"><a class="docs-heading-anchor" href="#Default-Behavior">Default Behavior</a><a id="Default-Behavior-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Behavior" title="Permalink"></a></h1><p>This package has some defaults that are important to be aware of during use.</p><h2 id="Different-Return-Types"><a class="docs-heading-anchor" href="#Different-Return-Types">Different Return Types</a><a id="Different-Return-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Different-Return-Types" title="Permalink"></a></h2><p>The general design principal in Julia is that if a type is a function name, it should return that type. In this package, this is not always the case. When an <a href="../linking_identifiers/#WRDSMerger.AbstractIdentifier"><code>AbstractIdentifier</code></a> uses an external type (e.g. <code>Int</code>), it will return that <code>AbstractIdentifier</code>. However, when an <code>AbstractIdentifier</code> is used on another <code>AbstractIdentifier</code>, it will most often return the underlying value. For example:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permno(47896) # returns the type Permno</code><code class="nohighlight hljs ansi" style="display:block;">Permno(47896)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permno(Permco(20436), Date(2020)) # an Int type</code><code class="nohighlight hljs ansi" style="display:block;">47896</code></pre><p>The reason for this difference is that the <code>AbstractIdentifier</code> types are primarily meant for internal use and communicating information to the functions, but it is more often necessary to have the common Julia type for later joins. If it is needed to have the <code>AbstractIdentifier</code>, then run:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; WRDSMerger.convert_identifier(Permno, Permco(20436), Date(2020))</code><code class="nohighlight hljs ansi" style="display:block;">Permno(47896)</code></pre><h2 id="Default-Options-in-Conversions"><a class="docs-heading-anchor" href="#Default-Options-in-Conversions">Default Options in Conversions</a><a id="Default-Options-in-Conversions-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Options-in-Conversions" title="Permalink"></a></h2><h3 id="Parent-Firms"><a class="docs-heading-anchor" href="#Parent-Firms">Parent Firms</a><a id="Parent-Firms-1"></a><a class="docs-heading-anchor-permalink" href="#Parent-Firms" title="Permalink"></a></h3><p>Certain <a href="../linking_identifiers/#WRDSMerger.SecurityIdentifier"><code>SecurityIdentifier</code></a>s have a direct link to a parent firm, most obviously <a href="../linking_identifiers/#WRDSMerger.Cusip"><code>Cusip</code></a> and <a href="../linking_identifiers/#WRDSMerger.NCusip"><code>NCusip</code></a> (with <a href="../linking_identifiers/#WRDSMerger.Cusip6"><code>Cusip6</code></a> and <a href="../linking_identifiers/#WRDSMerger.NCusip6"><code>NCusip6</code></a>). In certain situations, it can make sense to allow a match to occur through these parent firms, such as when the end goal is to match a <code>SecurityIdentifier</code> to a <a href="../linking_identifiers/#WRDSMerger.FirmIdentifier"><code>FirmIdentifier</code></a>.</p><p>For example, consider the case of <code>NCusip(&quot;46625H21&quot;)</code>, which is not in the data. Therefore, when trying to convert his to another <code>SecurityIdentifier</code>, it will return <code>missing</code> since there is not an exact match:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permno(NCusip(&quot;46625H21&quot;), Date(2020))</code><code class="nohighlight hljs ansi" style="display:block;">missing</code></pre><p>However, if trying to match this <code>NCusip</code> to a <code>FirmIdentifier</code>, then it will return a match:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permco(NCusip(&quot;46625H21&quot;), Date(2020))</code><code class="nohighlight hljs ansi" style="display:block;">20436</code></pre><p>This is because while the <code>NCusip</code> is not in the data, the <code>NCusip6(&quot;46625H&quot;)</code> is:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permco(NCusip6(&quot;46625H&quot;), Date(2020))</code><code class="nohighlight hljs ansi" style="display:block;">20436</code></pre><p>The logic here is that it should not matter if a particular security does not match to a firm if the parent firm of that security does match to a firm. This is very useful if the integrity of the <code>Cusip</code> values is in question. This behavior can be disabled or enabled by setting <code>allow_parent_firm</code>;</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permno(NCusip(&quot;46625H21&quot;), Date(2020); allow_parent_firm=true)</code><code class="nohighlight hljs ansi" style="display:block;">47896</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permco(NCusip(&quot;46625H21&quot;), Date(2020); allow_parent_firm=false)</code><code class="nohighlight hljs ansi" style="display:block;">missing</code></pre><h3 id="Outside-of-Date-Ranges-and-Singular-Matches"><a class="docs-heading-anchor" href="#Outside-of-Date-Ranges-and-Singular-Matches">Outside of Date Ranges and Singular Matches</a><a id="Outside-of-Date-Ranges-and-Singular-Matches-1"></a><a class="docs-heading-anchor-permalink" href="#Outside-of-Date-Ranges-and-Singular-Matches" title="Permalink"></a></h3><p>Many links are supposed to be only valid for a specific date range. For example, linking <code>NCusip(&quot;16161A10&quot;)</code> to <code>Permno(47896)</code> is only valid between 1996-04-01 to 2001-01-01. However, this <code>NCusip</code> only ever links to that <code>Permno</code>, so the default behavior in this package is to provide that match:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permno(NCusip(&quot;16161A10&quot;), Date(2020)) # outside date range</code><code class="nohighlight hljs ansi" style="display:block;">47896</code></pre><p>If the link does not only provide one potential result (e.g., if that <code>NCusip</code> also could go to a different <code>Permno</code>), then this will return <code>missing</code>. The default behavior can be disabled by setting <code>allow_inexact_date=false</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Permno(NCusip(&quot;16161A10&quot;), Date(2020); allow_inexact_date=false) # outside date range</code><code class="nohighlight hljs ansi" style="display:block;">missing</code></pre><h2 id="Supremacy-of-Permno"><a class="docs-heading-anchor" href="#Supremacy-of-Permno">Supremacy of Permno</a><a id="Supremacy-of-Permno-1"></a><a class="docs-heading-anchor-permalink" href="#Supremacy-of-Permno" title="Permalink"></a></h2><p>In WRDS, Permnos are one of the easiest items to link. For example, there are easily accessible tables for linking GVKey &lt;-&gt; Permno, IbesTicker &lt;-&gt; Permno, and NCusip &lt;-&gt; Permno. This makes it very useful for most links. Therefore, when this package is determining the best path for linking two identifiers that are not directly linked (e.g., RPEntity &lt;-&gt; GVKey), this package will default to using Permno even if other paths exist of equal length.</p><p>For example, by default, this package links RPEntity to NCusip6. NCusip6 has direct links to both Permno and Permco, both of which directly link to GVKey. The default in this package will choose the path that goes through Permno (RPentity -&gt; NCusip6 -&gt; Permno -&gt; GVKey).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If there is a shorter path, then it will still choose that (e.g., SecID -&gt; NCusip -&gt; NCusip6 -&gt; RPEntity instead of SecID -&gt; NCusip -&gt; Permno -&gt; NCusip6 -&gt; RPEntity).</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basic_linking/">« Linking Basics</a><a class="docs-footer-nextpage" href="../linking_identifiers/">Identifier Types »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.0 on <span class="colophon-date" title="Tuesday 3 October 2023 21:18">Tuesday 3 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
